{"version":3,"sources":["webpack:///src/components/common/TimeLine.vue","webpack:///./src/components/common/TimeLine.vue?7c6d","webpack:///./src/components/common/TimeLine.vue","webpack:///./src/utils/MovieWallBuilder.js","webpack:///src/components/show/ShowTimeItem.vue","webpack:///./src/components/show/ShowTimeItem.vue?ca5b","webpack:///./src/components/show/ShowTimeItem.vue","webpack:///src/components/show/ShowTimeList.vue","webpack:///./src/components/show/ShowTimeList.vue?a077","webpack:///./src/components/show/ShowTimeList.vue","webpack:///src/components/show/Shows.vue","webpack:///./src/components/show/Shows.vue?c67b","webpack:///./src/components/show/Shows.vue"],"names":["TimeLine","name","props","timeInfo","type","Array","required","validator","value","length","initialIndex","Number","default","data","timeLine","ulWidth","sliderWidth","paddingRight","paddingLeft","selectedIndex","this","watch","newVal","methods","init","$refs","timeline","offsetWidth","children","style","window","getComputedStyle","replace","scroll","addClickListener","self","addEventListener","e","target","tagName","proSelectedIndex","dataset","index","date","$emit","selectedDate","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","maxScrollX","targetScrollX","handle","sliding","distance","scrollLeft","scrollTo","Math","abs","mounted","common_TimeLine","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_l","item","i","class","attrs","data-index","data-date","showDate","_v","_s","dateShow","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","MovieWallBuilder","option","prototype","util","isMobile","sUserAgent","navigator","userAgent","toLowerCase","bIsIpad","match","bIsIphoneOs","bIsMidp","bIsUc7","bIsUc","bIsAndroid","bIsCE","bIsWM","preventDefault","event","returnValue","config","maxLeft","minLeft","isDown","startLeft","startX","disX","duration","callback","undefined","el","Error","sliderNode","document","querySelector","childNode","childNodeWidth","clientWidth","width","left","parentNode","selectedNode","scrollToSelectedNode","bindTouchEvent","touchstart","touchEvent","touches","clientX","offsetLeft","touchmove","endX","touchend","reset","click","round","cb","curLeft","speed","changeSelectedNode","classList","remove","add","touchStartEvent","touchMoveEvent","touchEndEvent","bind","ShowTimeItem","cinemaId","String","movieId","sltInfo","Object","booking","id","Manage","setTitleInfo","title","$router","push","params","show_ShowTimeItem","on","tm","lang","tp","th","price","extraDesc","_m","components_show_ShowTimeItem","ShowTimeList","components","plist","show_ShowTimeList","key","components_show_ShowTimeList","ShowTimeList_normalizeComponent","Shows","Loading","Footer","pageStatus","error","cinemaInfo","moviesInfo","movieWall","selectedMovie","selectedMovieIndex","selectedDateIndex","computed","extends_default","shows","vuex_esm","getShowsInfo","fetchData","_this","then","showsInfo","findSelectedIndex","$nextTick","buildMovieWall","catch","console","log","element","utils_MovieWallBuilder","timeLineClick","result","$route","to","from","query","created","show_Shows","address","href","tel","data-tel","selected","data-id","src","poster","score","_e","Shows_Component","Shows_normalizeComponent"],"mappings":"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","file":"static/js/2.dc4a6fbf5e37199a018e.js","sourcesContent":["<template>\n  <div>\n    <ul ref=\"timeline\" class=\"time-line\">\n      <li v-for=\"(item, i) in timeInfo\"\n          :class=\" i === selectedIndex ? 'time active': 'time' \"\n          :data-index=\"i\"\n          :data-date=\"item.showDate\">{{item.dateShow}}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  export default {\n    //\n    name: \"time-line-menu\",\n    // 不允许改变\n    props: {\n      timeInfo: {\n        type: Array,\n        required: true,\n        validator: function (value) {\n          return value.length > 0\n        }\n      },\n      initialIndex: {\n        type: Number,\n        default: function () {\n          return 0;\n        },\n        validator: function (value) {\n          return value >= 0;\n        }\n      }\n    },\n    //\n    data() {\n      return {\n        timeLine: null,\n        ulWidth: 0,\n        sliderWidth: 0,\n        paddingRight: 0,\n        paddingLeft: 0,\n\n        selectedIndex: this.initialIndex\n      }\n    },\n    watch: {\n      'timeInfo': function (newVal) {\n        this.selectedIndex = 0;\n      }\n    },\n\n    methods: {\n\n      // 初始化\n      init: function () {\n\n        this.timeLine = this.$refs.timeline;\n        this.ulWidth = this.timeLine.offsetWidth;\n        this.sliderWidth = this.timeLine.children[0].offsetWidth;\n\n        var style = window.getComputedStyle(this.timeLine);\n        this.paddingRight = +(style.paddingRight.replace(\"px\", ''));\n        this.paddingLeft = +(style.paddingLeft.replace(\"px\", ''));\n\n        this.scroll(this.selectedIndex);\n        // 添加监听\n        this.addClickListener();\n      },\n\n      // 点击事件\n      addClickListener: function () {\n        var self = this;\n        // 添加监听\n        this.timeLine.addEventListener('click', function (e) {\n          var target = e.target;\n          if (target.tagName !== 'LI') return;\n\n          var proSelectedIndex = self.selectedIndex;\n          self.selectedIndex = +target.dataset.index;\n          var date = target.dataset.date;\n          // 互动\n          self.scroll(self.selectedIndex);\n          // 发出事件\n          self.$emit('timeLineClick', {\n            proSelectedIndex: proSelectedIndex,\n            selectedIndex: self.selectedIndex,\n            selectedDate: date\n          });\n        });\n      },\n\n      // 滑动\n      scroll: function (selectedIndex) {\n\n        var self = this;\n\n        var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n          window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n\n        var cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n\n        // 获取最大滚动值\n        var maxScrollX = this.timeLine.children.length * self.sliderWidth - (self.ulWidth - self.paddingLeft - self.paddingRight);\n        // 最小滚动值\n        var minScrollX = 0;\n        // 所点击元素位置\n        var w = (+selectedIndex + 1) * self.sliderWidth;\n        // 计算选中节点到指定位置，所需滚动的距离\n        var targetScrollX = w - ((this.ulWidth - self.paddingLeft - self.paddingRight) / 2) - self.sliderWidth / 2;\n        // 小于最小时\n        if (targetScrollX < minScrollX) targetScrollX = 0;\n        // 大于最大时\n        if (targetScrollX > maxScrollX) targetScrollX = maxScrollX;\n\n        // 滑动效果\n        function sliding() {\n          // // 向后滚\n          // if (self.timeLine.scrollLeft > targetScrollX) {\n          //   var distance = self.timeLine.scrollLeft - 20 < targetScrollX ? targetScrollX : self.timeLine.scrollLeft - 20;\n          //   self.timeLine.scrollTo(distance, 0);\n          //   //if (self.timeLine.scrollLeft > targetScrollX) {\n          //   if (!(Math.abs(self.timeLine.scrollLeft - targetScrollX) < 2)) {\n          //     cancelAnimationFrame(timer);\n          //     timer = requestAnimationFrame(sliding);\n          //   }\n          // }\n          // // 向前滚\n          // if (self.timeLine.scrollLeft < targetScrollX) {\n          //   var distance = self.timeLine.scrollLeft + 20 > targetScrollX ? targetScrollX : self.timeLine.scrollLeft + 20;\n          //   self.timeLine.scrollTo(distance, 0);\n          //   // if (self.timeLine.scrollLeft < targetScrollX) {\n          //   if (!(Math.abs(self.timeLine.scrollLeft - targetScrollX) < 2)) {\n          //     cancelAnimationFrame(timer);\n          //     timer = requestAnimationFrame(sliding);\n          //   }\n          // }\n\n          var distance = self.timeLine.scrollLeft;\n          // 判断滚动方向\n          if (self.timeLine.scrollLeft > targetScrollX) { // 向后滚\n            distance = self.timeLine.scrollLeft - 20 < targetScrollX ? targetScrollX : self.timeLine.scrollLeft - 20;\n          } else { // 向前滚\n            distance = self.timeLine.scrollLeft + 20 > targetScrollX ? targetScrollX : self.timeLine.scrollLeft + 20;\n          }\n          // 滚动\n          self.timeLine.scrollTo(distance, 0);\n\n          cancelAnimationFrame(handle);\n          // self.timeLine.scrollLeft 获取的数值为整数，targetScrollX的数值可能为小数，因而采用绝对值，控制误差范围\n          if (Math.abs(self.timeLine.scrollLeft - targetScrollX) >= 5) {\n            handle = requestAnimationFrame(sliding);\n          }\n\n          // // self.timeLine.scrollLeft 获取的数值为整数，targetScrollX的数值可能为小数，因而采用绝对值，控制误差范围\n          // if (Math.abs(self.timeLine.scrollLeft - targetScrollX) >= 2) {\n          //   handle = requestAnimationFrame(sliding);\n          // } else {\n          //   self.timeLine.scrollTo(self.timeLine.scrollLeft, 0);\n          // }\n        }\n\n        // 触发滑动\n        var handle = requestAnimationFrame(sliding);\n      }\n    },\n\n    mounted() {\n      this.init();\n    }\n  }\n</script>\n\n<style scoped>\n  @import \"../../assets/css/timeLine.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/TimeLine.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{ref:\"timeline\",staticClass:\"time-line\"},_vm._l((_vm.timeInfo),function(item,i){return _c('li',{class:i === _vm.selectedIndex ? 'time active': 'time',attrs:{\"data-index\":i,\"data-date\":item.showDate}},[_vm._v(_vm._s(item.dateShow)+\"\\n    \")])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ad7940c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/TimeLine.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ad7940c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TimeLine.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TimeLine.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TimeLine.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ad7940c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TimeLine.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0ad7940c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/TimeLine.vue\n// module id = null\n// module chunks = ","var MovieWallBuilder = function MovieWall(option) {\n  this.init(option);\n};\n\n/**\n * 工具函数\n * @type {{isMobile: MovieWall.util.isMobile, preventDefault: MovieWall.util.preventDefault}}\n */\nMovieWallBuilder.prototype.util = {\n\n  isMobile: function () {\n    var sUserAgent = navigator.userAgent.toLowerCase(),\n      bIsIpad = sUserAgent.match(/ipad/i) == \"ipad\",\n      bIsIphoneOs = sUserAgent.match(/iphone os/i) == \"iphone os\",\n      bIsMidp = sUserAgent.match(/midp/i) == \"midp\",\n      bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == \"rv:1.2.3.4\",\n      bIsUc = sUserAgent.match(/ucweb/i) == \"ucweb\",\n      bIsAndroid = sUserAgent.match(/android/i) == \"android\",\n      bIsCE = sUserAgent.match(/windows ce/i) == \"windows ce\",\n      bIsWM = sUserAgent.match(/windows mobile/i) == \"windows mobile\",\n      bIsWebview = sUserAgent.match(/webview/i) == \"webview\";\n    return (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM);\n  },\n  preventDefault: function (e) {\n    var e = e || window.event;\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      e.returnValue = false;\n    }\n  }\n};\n\n/**\n *\n * @type {{maxLeft: number, minLeft: number, startX: number, disX: number, isDown: boolean, startLeft: number, duration: number, callback: undefined}}\n */\nMovieWallBuilder.prototype.config = {\n  // 最大、最小偏移量（left）\n  maxLeft: 0,\n  minLeft: 0,\n  // 判断是否按下\n  isDown: false,\n  // 按下时偏移量（left）\n  startLeft: 0,\n  // 按下时X坐标\n  startX: 0,\n  // X滑动距离\n  disX: 0,\n  // 持续时长\n  duration: 5,\n  // 回调函数\n  callback: undefined\n};\n\n/**\n * 初始化\n * @param option\n */\nMovieWallBuilder.prototype.init = function (option) {\n\n  var config = this.config;\n  // 初始化参数\n  if (!option.el) throw new Error('请传入有效的el');\n\n  if (option.duration) config.duration = option.duration;\n  if (option.callback) config.callback = option.callback;\n\n  this.sliderNode = document.querySelector(option.el);\n  // // 设置并获取子节点信息\n  // for (var i = 0; i < this.sliderNode.children.length; i++) {\n  //   this.sliderNode.children[i].setAttribute('data-index', i);\n  // }\n  //debugger;\n  var childNode = this.sliderNode.children[0];\n  this.childNodeWidth = childNode.clientWidth;\n  // 设置滑块信息\n  this.sliderNode.style.width = this.childNodeWidth * this.sliderNode.children.length + 'px';\n  this.sliderNode.style.left = '0px';\n  // 设置偏移量，保证第一个或最后一个子节点显示在屏幕中间\n  this.sliderNode.style.paddingLeft = this.sliderNode.style.paddingRight = this.sliderNode.parentNode.clientWidth / 2 - this.childNodeWidth / 2 + 'px';\n\n  // 最大、最小left值 （this.sliderNode.clientWidth 包括上一步设置的padding值）\n  config.maxLeft = this.sliderNode.clientWidth - this.sliderNode.parentNode.clientWidth;\n  config.minLeft = 0;\n\n  // 获取选中节点\n  this.selectedNode = this.sliderNode.querySelector('.selected');\n  this.selectedIndex = this.selectedNode.dataset.index;\n\n  // 滑动到指定位置\n  this.scrollToSelectedNode(option.selectedIndex || 0, config.callback);\n\n  // 绑定事件\n  this.bindTouchEvent();\n};\n\n/**\n * 鼠标或手指按下\n * @param e\n */\nMovieWallBuilder.prototype.touchstart = function (e) {\n\n  var config = this.config;\n  var e = e || window.event;   //要判断使用哪种event\n  config.isDown = true;\n  // 区分动作\n  var touchEvent = this.util.isMobile() ? e.touches[0] : e;\n  config.startX = touchEvent.clientX;\n  // 获取选中节点和选中索引\n  this.selectedNode = this.sliderNode.querySelector('.selected');\n  // selectedIndex 也表示 selectedNode 子元素的索引\n  this.selectedIndex = this.selectedNode.dataset.index;\n  // 获取开始时的left\n  config.startLeft = this.sliderNode.offsetLeft;\n\n  this.util.preventDefault(e);\n};\n\n/**\n * 鼠标或手指滑动\n * @param e\n */\nMovieWallBuilder.prototype.touchmove = function (e) {\n\n  var config = this.config;\n  if (!config.isDown) return;\n  var e = e || window.event;\n  var touchEvent = this.util.isMobile() ? e.touches[0] : e;\n  // 获取滑动距离\n  var endX = touchEvent.clientX;\n  config.disX = endX - config.startX;\n  // 区分点击事件\n  //if (Math.abs(config.disX) > 20) {\n  //this.util.preventDefault(e);\n  // 产生滑动效果\n  this.sliderNode.style.left = config.startLeft + config.disX + 'px';\n  //return true;\n  //}\n};\n\n/**\n * 鼠标或手指离开\n * @param e\n */\nMovieWallBuilder.prototype.touchend = function (e) {\n\n  var config = this.config;\n  var e = e || window.event;\n\n  // 区分点击事件\n  if (Math.abs(config.disX) <= 20) {\n    this.reset();\n    // 执行点击事件\n    this.click(e, config.callback);\n    return;\n  }\n\n  this.reset();\n  // 四舍五入, 获取拖动结束后的选中节点的索引\n  this.selectedIndex = Math.round(Math.abs(this.sliderNode.offsetLeft) / this.childNodeWidth);\n  // 左边界\n  if (this.sliderNode.offsetLeft <= -config.maxLeft) {\n    this.selectedIndex = this.sliderNode.children.length - 1;\n  }\n  // 右边界\n  if (this.sliderNode.offsetLeft >= config.minLeft) {\n    this.selectedIndex = 0;\n  }\n  // 滑动\n  this.scrollToSelectedNode(this.selectedIndex, config.callback);\n  return;\n};\n\n/**\n * 滑动\n * @param e\n * @param cb\n */\nMovieWallBuilder.prototype.scrollToSelectedNode = function (selectedIndex, cb) {\n\n  var self = this;\n\n  var sliderNode = self.sliderNode;\n  var childNodeWidth = self.childNodeWidth;\n\n  // // 使新的选中节点处于中间位置\n  // this.sliderNode.style.left = -this.selectedIndex * this.childNodeWidth + 'px';\n  // // 样式变更\n  // config.selectedNode.classList.remove('selected');\n  // config.selectedNode = this.sliderNode.children[config.selectedIndex];\n  // config.selectedNode.classList.add('selected');\n\n\n  // 当前位置\n  var curLeft = sliderNode.offsetLeft;\n  // 目标位置\n  var target = -selectedIndex * childNodeWidth; //sliderNode.offsetLeft 的值永远小于等于0(left)，且被选中的元素处于中间位置， 所以用 -selectedIndex,\n  // 移动速度\n  var speed = Math.abs(Math.abs(target) - Math.abs(curLeft)) / self.config.duration;\n\n  // 滑动效果\n  function sliding() {\n    // 判断移动方向\n    if (target > curLeft) { // 向右\n      //\n      var distance = sliderNode.offsetLeft + speed > target ? target : sliderNode.offsetLeft + speed;\n      sliderNode.style.left = distance + 'px';\n\n      cancelAnimationFrame(handle);\n      if (sliderNode.offsetLeft < -selectedIndex * childNodeWidth)\n        requestAnimationFrame(sliding);\n      else\n        self.changeSelectedNode(selectedIndex);\n\n    } else if (target < curLeft) { // 向左移动\n      // 要移动到位置与目标值比较，若小于目标位置表示 移过 ，则去目标值作为移动距离\n      var distance = sliderNode.offsetLeft - speed < target ? target : sliderNode.offsetLeft - speed;\n      sliderNode.style.left = distance + 'px';\n\n      cancelAnimationFrame(handle);\n      if (sliderNode.offsetLeft > -selectedIndex * childNodeWidth)\n        handle = requestAnimationFrame(sliding);\n      else\n        self.changeSelectedNode(selectedIndex);\n    }\n  }\n\n  // 开始滑动\n  var handle = requestAnimationFrame(sliding);\n  //\n  if (typeof cb === 'function') {\n    cb(selectedIndex);\n  }\n};\n\n/**\n *\n * @param selectedIndex\n */\nMovieWallBuilder.prototype.changeSelectedNode = function (selectedIndex) {\n\n  var config = this.config;\n\n  // 样式变更，变换选中节点\n  this.selectedNode.classList.remove('selected');\n  //\n  this.selectedNode = this.sliderNode.children[selectedIndex].children[0];\n  this.selectedNode.classList.add('selected');\n};\n\n/**\n * 参数重置\n */\nMovieWallBuilder.prototype.reset = function () {\n\n  var config = this.config;\n\n  config.startX = 0;\n  config.disX = 0;\n  config.isDown = false;\n  config.startLeft = 0;\n};\n\n/**\n * 点击事件\n * @param e\n * @param cb\n */\nMovieWallBuilder.prototype.click = function (e, cb) {\n  //e.target.tagName);\n  var target = e.target.tagName === \"A\" ? e.target : e.target.parentNode;\n  if (target.dataset.index) {\n    this.selectedIndex = target.dataset.index;\n    this.scrollToSelectedNode(this.selectedIndex, cb);\n  }\n};\n\n/**\n * 绑定事件\n */\nMovieWallBuilder.prototype.bindTouchEvent = function () {\n\n  var touchStartEvent, touchMoveEvent, touchEndEvent;\n  touchStartEvent = this.util.isMobile() ? 'touchstart' : 'mousedown';\n  touchMoveEvent = this.util.isMobile() ? 'touchmove' : 'mousemove';\n  touchEndEvent = this.util.isMobile() ? 'touchend' : 'mouseup';\n\n  this.sliderNode.addEventListener(touchStartEvent, this.touchstart.bind(this));\n  this.sliderNode.addEventListener(touchMoveEvent, this.touchmove.bind(this));\n  this.sliderNode.addEventListener(touchEndEvent, this.touchend.bind(this));\n};\n\nexport default MovieWallBuilder;\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/MovieWallBuilder.js","<template>\n  <!-- tr 需要绑定点击事件 -->\n  <tr @click=\"booking\">\n    <td class=\"stl-time\">\n      <div class=\"stl-time-wrap\">\n        <strong>{{sltInfo.tm}}</strong>\n        <em>23:52结束</em>\n      </div>\n    </td>\n    <td class=\"stl-info\">\n      <div class=\"stl-ver\">{{sltInfo.lang + \" \" + sltInfo.tp}}</div>\n      <div class=\"two-line\">{{sltInfo.th}}</div>\n    </td>\n    <td class=\"stl-price\">\n      <span class=\"unit theme-color\">\n        <span class=\"stonefont\">{{sltInfo.price}}</span>元</span>\n      <span class=\"origin-price\">{{sltInfo.extraDesc}}</span>\n    </td>\n    <td class=\"stl-buy\">\n      <a class=\"stl-btn\">选座购票</a>\n    </td>\n  </tr>\n</template>\n\n<script>\n\n  import {TitleManage} from '../../utils/Manage';\n\n  export default {\n    name: \"show-time-item\",\n    props: {\n      cinemaId: {\n        type: String,\n        required: true\n      },\n      movieId: {\n        type: String,\n        required: true\n      },\n      // 排片情况\n      sltInfo: {\n        type: Object,\n        required: true\n      }\n    },\n    data() {\n      return {}\n    },\n    methods: {\n      booking: function () {\n        // 允许订购\n        if (this.sltInfo.id) {\n          // 获取标题信息\n          TitleManage.setTitleInfo('seats', document.title);\n          // 页面跳转\n          this.$router.push({name: 'seats', params: {id: this.cinemaId}})\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  @import \"../../assets/css/showTimeItem.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/show/ShowTimeItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{on:{\"click\":_vm.booking}},[_c('td',{staticClass:\"stl-time\"},[_c('div',{staticClass:\"stl-time-wrap\"},[_c('strong',[_vm._v(_vm._s(_vm.sltInfo.tm))]),_vm._v(\" \"),_c('em',[_vm._v(\"23:52结束\")])])]),_vm._v(\" \"),_c('td',{staticClass:\"stl-info\"},[_c('div',{staticClass:\"stl-ver\"},[_vm._v(_vm._s(_vm.sltInfo.lang + \" \" + _vm.sltInfo.tp))]),_vm._v(\" \"),_c('div',{staticClass:\"two-line\"},[_vm._v(_vm._s(_vm.sltInfo.th))])]),_vm._v(\" \"),_c('td',{staticClass:\"stl-price\"},[_c('span',{staticClass:\"unit theme-color\"},[_c('span',{staticClass:\"stonefont\"},[_vm._v(_vm._s(_vm.sltInfo.price))]),_vm._v(\"元\")]),_vm._v(\" \"),_c('span',{staticClass:\"origin-price\"},[_vm._v(_vm._s(_vm.sltInfo.extraDesc))])]),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"stl-buy\"},[_c('a',{staticClass:\"stl-btn\"},[_vm._v(\"选座购票\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1193554c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/show/ShowTimeItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1193554c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShowTimeItem.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShowTimeItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShowTimeItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1193554c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShowTimeItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1193554c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/show/ShowTimeItem.vue\n// module id = null\n// module chunks = ","<template>\n  <table>\n    <ShowTimeItem v-for=\"(sltInfo, index) in plist\"\n                  :sltInfo=\"sltInfo\"\n                  :cinemaId=\"cinemaId\"\n                  :movieId=\"movieId\"\n                  :key=\"index\"/>\n  </table>\n</template>\n\n<script>\n\n  import ShowTimeItem from './ShowTimeItem'\n\n  export default {\n    name: 'show-time-list',\n    components: {\n      ShowTimeItem\n    },\n    props: {\n      cinemaId: {\n        type: String,\n        required: true\n      },\n      movieId: {\n        type: String,\n        required: true\n      },\n      plist: {\n        type: Array,\n        required: true\n        // default: function () {\n        //   return { }\n        // }\n      }\n    },\n    data() {\n      return {}\n    }\n  }\n</script>\n\n<style scoped>\n  @import \"../../assets/css/showTimeList.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/show/ShowTimeList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',_vm._l((_vm.plist),function(sltInfo,index){return _c('ShowTimeItem',{key:index,attrs:{\"sltInfo\":sltInfo,\"cinemaId\":_vm.cinemaId,\"movieId\":_vm.movieId}})}),1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00853d76\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/show/ShowTimeList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-00853d76\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShowTimeList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShowTimeList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShowTimeList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00853d76\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShowTimeList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-00853d76\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/show/ShowTimeList.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div v-if=\"pageStatus === 'completed'\">\n      <div class=\"showtime-cinema-info\">\n        <div class=\"stci-info\">\n          <div class=\"cinema-name\">{{cinemaInfo.name}}</div>\n          <p class=\"cinema-address\">{{cinemaInfo.address}}</p>\n        </div>\n        <div class=\"cinema-tel\">\n          <a :href=\"'tel:' + cinemaInfo.tel\" data-tel=\"cinemaDetail.tel\">\n            <i class=\"phone-icon\"></i>\n          </a>\n        </div>\n      </div>\n      <!-- 影院电影 -->\n      <div class=\"showtime-movies\">\n        <ul ref=\"slider\" id=\"slider\">\n          <li v-for=\"(item, index) in moviesInfo\">\n            <a :class=\"{ 'selected': !index }\" :data-index=\"index\" :data-id=\"item.id\">\n              <img :src=\"item.poster\"/>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class=\"showtime-mname\">\n        <a class=\"movie-relative\">\n          <span class=\"movie-name\">{{selectedMovie.name}}</span>\n          <span class=\"sc\"><strong>{{selectedMovie.score}}</strong>分</span>\n        </a>\n      </div>\n      <!--排片时间-->\n      <TimeLine :timeInfo=\"timeLine\" :initialIndex=\"selectedDateIndex\" @timeLineClick=\"timeLineClick\"/>\n      <!-- 场次 -->\n      <div class=\"showtime-list\">\n        <ShowTimeList v-if=\"plist.length > 0\"\n                      :plist=\"plist\"\n                      :cinemaId=\"cinemaId\"\n                      :movieId=\"selectedMovie.id\"/>\n        <div class=\"sell-out\" v-else>今日场次已映完</div>\n      </div>\n      <Footer :type=\"'flink'\"/>\n    </div>\n    <Loading v-if=\"pageStatus === 'loading'\"/>\n  </div>\n</template>\n\n<script>\n\n  import {mapGetters, mapActions} from 'vuex';\n\n  import MovieWallBuilder from '../../utils/MovieWallBuilder';\n\n  import Loading from '../common/Loading';\n  import TimeLine from '../common/TimeLine'\n  import ShowTimeList from './ShowTimeList';\n  import ShowTimeItem from './ShowTimeItem';\n  import Footer from '../Footer';\n\n  export default {\n    name: \"show\",\n    props: {},\n    components: {\n      Loading,\n      TimeLine,\n      ShowTimeList,\n      ShowTimeItem,\n      Footer\n    },\n    data() {\n      return {\n        // 页面状态\n        pageStatus: 'loading',\n        error: '',\n\n        // 查询条件\n        cinemaId: '',\n        movieId: '',\n        date: '',\n\n        // 影院信息\n        cinemaInfo: {},\n        // 影院播放影片\n        moviesInfo: [],\n        // 影片墙\n        movieWall: null,\n        // 当前选中影片\n        selectedMovie: {},\n        // 当前选中影片索引\n        selectedMovieIndex: 0,\n        // 前选中影片排片情况\n        plist: [],\n        // 选中的日期索引\n        selectedDateIndex: 0\n      }\n    },\n    computed: {\n      // 时间轴\n      'timeLine': function () {\n        return this.selectedMovie.shows\n      },\n      ...mapGetters([\n        'showsInfo'\n      ])\n    },\n    //\n    methods: {\n\n      ...mapActions({\n        getShowsInfo: 'GET_SHOWS_INFO'\n      }),\n\n      // 获取影院信息\n      fetchData: function (cinemaId, movieId, date) {\n\n        this.getShowsInfo({\n          cinemaId,\n          movieId,\n          date\n        })\n          .then(() => {\n            // 影院信息\n            this.cinemaInfo = this.showsInfo.cinemaInfo;\n            // 全部的影片信息\n            this.moviesInfo = this.showsInfo.moviesInfo;\n\n            // 所选影片索引（默认显示第一个）\n            this.selectedMovieIndex = this.findSelectedIndex(this.moviesInfo, 'id', movieId);\n            // 当前展示的影片\n            this.selectedMovie = this.moviesInfo[this.selectedMovieIndex];\n            // 所选日期\n            this.selectedDateIndex = this.findSelectedIndex(this.selectedMovie.shows, 'showDate', date);\n            // 当天排片\n            this.plist = this.selectedMovie.shows[this.selectedDateIndex].plist;\n\n            this.pageStatus = 'completed';\n\n            // 保证dom更新后执行\n            this.$nextTick(function () {\n              //\n              this.buildMovieWall();\n            });\n          })\n          .catch(e => console.log(e));\n      },\n\n      findSelectedIndex: function (data, key, element) {\n\n        if (data.length <= 0 || !element) return 0;\n\n        for (var i = 0; i < data.length; i++) {\n          if (data[i][key] == element) {\n            //console.log(i);\n            return i;\n          }\n        }\n        return 0;\n      },\n\n      // 构建影片墙\n      buildMovieWall: function () {\n        var self = this;\n        self.movieWall = new MovieWallBuilder({\n          el: '#slider',\n          selectedIndex: self.selectedMovieIndex,\n          callback: function (index) {\n            // 判断前后两次选中元素是否相同\n            if (index === self.selectedMovieIndex) return;\n            // 当前影片索引\n            self.selectedMovieIndex = index;\n            // 当前影片播放信息\n            self.selectedMovie = self.moviesInfo[index];\n            // 排片情况\n            self.plist = self.selectedMovie.shows[0].plist;\n          }\n        });\n      },\n\n      // timeLine点击事件\n      timeLineClick: function (result) {\n        var proSelectedIndex = result.proSelectedIndex;\n        var selectedIndex = result.selectedIndex;\n        if (proSelectedIndex == selectedIndex) return;\n        //this.selectedTimeIndex = index;\n        // 切换日期\n        this.plist = this.selectedMovie.shows[selectedIndex].plist;\n      }\n    },\n    //\n    watch: {\n      // 监听路由变化，配合更新数据\n      '$route': function (to, from) {\n\n        if (to.name === 'shows' && from.name !== 'seats') {\n          var cinemaId = to.params.cinemaId;\n          var movieId = to.query.movieId;\n          var date = to.query.date;\n\n          this.pageStatus = 'loading';\n          this.cinemaId = cinemaId;\n          this.fetchData(this.cinemaId, movieId, date);\n        }\n      }\n    },\n    //\n    created() {\n      // 获取影院ID （当第一次进入此页面，或涮新该页面时触发）\n      this.cinemaId = this.$route.params.cinemaId;\n      //this.cinemaId = this.$route.params.cinemaId + '';\n\n      var movieId = this.$route.query.movieId;\n      var date = this.$route.query.date;\n\n      this.fetchData(this.cinemaId, movieId, date);\n    }\n  }\n</script>\n\n<style scoped>\n  @import \"../../assets/css/shows.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/show/Shows.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.pageStatus === 'completed')?_c('div',[_c('div',{staticClass:\"showtime-cinema-info\"},[_c('div',{staticClass:\"stci-info\"},[_c('div',{staticClass:\"cinema-name\"},[_vm._v(_vm._s(_vm.cinemaInfo.name))]),_vm._v(\" \"),_c('p',{staticClass:\"cinema-address\"},[_vm._v(_vm._s(_vm.cinemaInfo.address))])]),_vm._v(\" \"),_c('div',{staticClass:\"cinema-tel\"},[_c('a',{attrs:{\"href\":'tel:' + _vm.cinemaInfo.tel,\"data-tel\":\"cinemaDetail.tel\"}},[_c('i',{staticClass:\"phone-icon\"})])])]),_vm._v(\" \"),_c('div',{staticClass:\"showtime-movies\"},[_c('ul',{ref:\"slider\",attrs:{\"id\":\"slider\"}},_vm._l((_vm.moviesInfo),function(item,index){return _c('li',[_c('a',{class:{ 'selected': !index },attrs:{\"data-index\":index,\"data-id\":item.id}},[_c('img',{attrs:{\"src\":item.poster}})])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"showtime-mname\"},[_c('a',{staticClass:\"movie-relative\"},[_c('span',{staticClass:\"movie-name\"},[_vm._v(_vm._s(_vm.selectedMovie.name))]),_vm._v(\" \"),_c('span',{staticClass:\"sc\"},[_c('strong',[_vm._v(_vm._s(_vm.selectedMovie.score))]),_vm._v(\"分\")])])]),_vm._v(\" \"),_c('TimeLine',{attrs:{\"timeInfo\":_vm.timeLine,\"initialIndex\":_vm.selectedDateIndex},on:{\"timeLineClick\":_vm.timeLineClick}}),_vm._v(\" \"),_c('div',{staticClass:\"showtime-list\"},[(_vm.plist.length > 0)?_c('ShowTimeList',{attrs:{\"plist\":_vm.plist,\"cinemaId\":_vm.cinemaId,\"movieId\":_vm.selectedMovie.id}}):_c('div',{staticClass:\"sell-out\"},[_vm._v(\"今日场次已映完\")])],1),_vm._v(\" \"),_c('Footer',{attrs:{\"type\":'flink'}})],1):_vm._e(),_vm._v(\" \"),(_vm.pageStatus === 'loading')?_c('Loading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7192717d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/show/Shows.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7192717d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Shows.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Shows.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Shows.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7192717d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Shows.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7192717d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/show/Shows.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}