{"version":3,"sources":["webpack:///src/components/common/RatingBar.vue","webpack:///./src/components/common/RatingBar.vue?b7bd","webpack:///./src/components/common/RatingBar.vue","webpack:///src/components/Movie.vue","webpack:///./src/components/Movie.vue?ff6a","webpack:///./src/components/Movie.vue"],"names":["RatingBar","name","props","score","typeL","Number","required","data","full","half","empty","methods","buildStarts","starts","fullCount","parseInt","halfCount","i","push","this","computed","common_RatingBar","render","_h","$createElement","_c","_self","ref","staticClass","_l","start","attrs","src","_v","_s","staticRenderFns","components_common_RatingBar","__webpack_require__","normalizeComponent","ssrContext","Movie","components","Footer","Loading","pageStatus","LazyLoader","movieId","bgimg","posterUrl","movieName","movieEnm","snum","cat","dur","pubDesc","dra","egg","staff","extends_default","Object","vuex_esm","getMovieInfo","fetchData","_this","then","movieInfo","nm","enm","sc","$nextTick","length","el","orientation","catch","e","console","log","initLayout","intro","$refs","expander","dataset","status","classList","remove","style","maxHeight","expandCloseContent","add","context","clientHeight","window","devicePixelRatio","toCinemaPage","Manage","setTitleInfo","$router","params","watch","$route","newVal","oldVal","created","components_Movie","_vm","on","click","data-status","_m","_e","item","key","data-lazy-src","photo","role","Movie_Component","Movie_normalizeComponent","__webpack_exports__"],"mappings":"uLAUAA,GACAC,KAAA,aACAC,OACAC,OACAC,MAAAC,OACAC,UAAA,IAMAC,KAAA,WACA,OACAC,KAAA,sDACAC,KAAA,sDACAC,MAAA,yDAGAC,SAEAC,YAAA,SAAAT,GASA,IAPA,IAAAU,KAGAC,EAAAC,SAAAZ,EAAA,GAEAa,EAAAb,EAAA,SAEAc,EAAA,EAAAA,EAAA,EAAAA,IAEAA,EAAAH,EACAD,EAAAK,KAAAC,KAAAX,MACA,IAAAQ,GACAA,EAAA,EACAH,EAAAK,KAAAC,KAAAV,OAEAI,EAAAK,KAAAC,KAAAT,OAGA,OAAAG,IAUAO,UACAP,OAAA,WACA,OAAAM,KAAAP,YAAAO,KAAAhB,UC3DekB,GADEC,OAFjB,WAA0B,IAAaC,EAAbJ,KAAaK,eAA0BC,EAAvCN,KAAuCO,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,IAAA,YAAAC,YAAA,WAA1FT,KAA+HU,GAA/HV,KAA+H,gBAAAW,GAAsC,OAAAL,EAAA,OAAiBG,YAAA,aAAAG,OAAgCC,IAAAF,OAAtNX,KAAqOc,GAAA,KAAAR,EAAA,QAArON,KAAqOc,GAArOd,KAAqOe,GAArOf,KAAqOhB,WAAA,MAE9OgC,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACEtC,EACAqB,GATF,EAVA,SAAAkB,GACEF,EAAQ,SAaV,kBAEA,MAUgC,gCC2EhCG,GACAvC,KAAA,aAEAwC,YACAzC,UAAAoC,EACAM,SAAA,EACAC,UAAA,GAEApC,KARA,WASA,OACAqC,WAAA,UACAC,WAAA,KAGAC,QAAA,GAEAC,MAAA,GACAC,UAAA,GAEAC,UAAA,GACAC,SAAA,GAEA/C,MAAA,EACAgD,KAAA,EAEAC,IAAA,GAEApB,IAAA,GAEAqB,IAAA,GACAC,QAAA,GAEAC,IAAA,GAEAC,KAAA,EAGAC,WAGArC,SAAAsC,OACAC,OAAAC,EAAA,EAAAD,EACA,eAGAhD,QAAA+C,OAEAC,OAAAC,EAAA,EAAAD,EACAE,aAAA,oBAIAC,UAAA,SAAAhB,GAAA,IAAAiB,EAAA5C,KAEAA,KAAA0C,cAAAf,YACAkB,KAAA,WACAD,EAAAhB,MAAAgB,EAAAE,UAAAlB,MACAgB,EAAAf,UAAAe,EAAAE,UAAAjB,UACAe,EAAAd,UAAAc,EAAAE,UAAAC,GACAH,EAAAb,SAAAa,EAAAE,UAAAE,IACAJ,EAAA5D,MAAA4D,EAAAE,UAAAG,GACAL,EAAAZ,KAAAY,EAAAE,UAAAd,KACAY,EAAAX,IAAAW,EAAAE,UAAAb,IACAW,EAAA/B,IAAA+B,EAAAE,UAAAjC,IACA+B,EAAAV,IAAAU,EAAAE,UAAAZ,IACAU,EAAAT,QAAAS,EAAAE,UAAAX,QACAS,EAAAR,IAAAQ,EAAAE,UAAAV,IACAQ,EAAAP,IAAAO,EAAAE,UAAAT,IACAO,EAAAN,MAAAM,EAAAE,UAAAR,MACAM,EAAAnB,WAAA,YAEAmB,EAAAM,UAAA,WACAlD,KAAAsC,MAAAa,OAAA,IAAAnD,KAAA0B,aACA1B,KAAA0B,WAAA,IAAAA,EAAA,GACA0B,GAAA,qBACAC,YAAA,oBAIAC,MAAA,SAAAC,GAAA,OAAAC,QAAAC,IAAAF,MAGAG,WAAA,WAEA,IAAAC,EAAA3D,KAAA4D,MAAAD,MACAE,EAAA7D,KAAA4D,MAAAC,SAEAF,EAAAG,QAAAC,OAAA,SACAJ,EAAAK,UAAAC,OAAA,6BACAJ,EAAAK,MAAAC,UAAA,IAIAC,mBAAA,WACA,IAAAT,EAAA3D,KAAA4D,MAAAD,MACAI,EAAAJ,EAAAG,QAAAC,OACAF,EAAA7D,KAAA4D,MAAAC,SAEA,WAAAE,GACAJ,EAAAG,QAAAC,OAAA,OACAJ,EAAAK,UAAAK,IAAA,6BACAR,EAAAK,MAAAC,UAAAnE,KAAA4D,MAAAU,QAAAC,aAAAC,OAAAC,iBAAA,QAEAd,EAAAG,QAAAC,OAAA,SACAJ,EAAAK,UAAAC,OAAA,6BACAJ,EAAAK,MAAAC,UAAA,KAKAO,aAAA,WAEMC,EAAA,EAANC,aAAA,SAAA5E,KAAA8C,UAAAC,IAEA/C,KAAA6E,QAAA9E,MAAAjB,KAAA,SAAAgG,QAAAnD,QAAA3B,KAAA2B,cAGAoD,OACAC,OAAA,SAAAC,EAAAC,GAEA,aAAAD,EAAAnG,KAAA,CACA,IAAA6C,EAAAsD,EAAAH,OAAAnD,QACAA,IAAA3B,KAAA2B,UACA3B,KAAAyB,WAAA,UACAzB,KAAA0B,WAAA,KACA1B,KAAA2B,UAEA3B,KAAA0D,aACA1D,KAAA2C,UAAA3C,KAAA2B,aAIAwD,QApIA,WAqIAnF,KAAA2B,QAAA3B,KAAAgF,OAAAF,OAAAnD,QACA3B,KAAA2C,UAAA3C,KAAA2B,WCxOeyD,GADEjF,OAFP,WAAgB,IAAAkF,EAAArF,KAAaI,EAAAiF,EAAAhF,eAA0BC,EAAA+E,EAAA9E,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,qBAAA+E,EAAA5D,WAAAnB,EAAA,OAAAA,EAAA,OAAsEG,YAAA,eAAyBH,EAAA,WAAgBG,YAAA,iBAA2BH,EAAA,OAAYG,YAAA,UAAoBH,EAAA,OAAYG,YAAA,mBAAAyD,MAAA,wBAAAmB,EAAAzD,MAAA,MAAgFyD,EAAAvE,GAAA,KAAAR,EAAA,OAAwBG,YAAA,iBAA2B4E,EAAAvE,GAAA,KAAAR,EAAA,OAAwBG,YAAA,6BAAuCH,EAAA,OAAYG,YAAA,iCAA2CH,EAAA,KAAUG,YAAA,SAAmBH,EAAA,OAAYG,YAAA,aAAAG,OAAgCC,IAAAwE,EAAAxD,iBAAqBwD,EAAAvE,GAAA,KAAAR,EAAA,OAA4BG,YAAA,kBAA4BH,EAAA,OAAYG,YAAA,6BAAuCH,EAAA,QAAA+E,EAAAvE,GAAAuE,EAAAtE,GAAAsE,EAAAvD,gBAAAuD,EAAAvE,GAAA,KAAAR,EAAA,OAAqEG,YAAA,8BAAwC4E,EAAAvE,GAAAuE,EAAAtE,GAAAsE,EAAAtD,aAAAsD,EAAAvE,GAAA,KAAAR,EAAA,OAAuDG,YAAA,gBAA0BH,EAAA,OAAYG,YAAA,mBAA6BH,EAAA,aAAkBM,OAAO5B,MAAAqG,EAAArG,SAAmBqG,EAAAvE,GAAA,KAAAR,EAAA,OAAwBG,YAAA,cAAwBH,EAAA,QAAA+E,EAAAvE,GAAA,OAAAuE,EAAAvE,GAAA,KAAAR,EAAA,QAAA+E,EAAAvE,GAAAuE,EAAAtE,GAAAsE,EAAArD,SAAAqD,EAAAvE,GAAA,KAAAR,EAAA,QAAA+E,EAAAvE,GAAA,kBAAAuE,EAAAvE,GAAA,KAAAR,EAAA,OAAmJG,YAAA,mBAA6BH,EAAA,QAAaG,YAAA,cAAwB4E,EAAAvE,GAAAuE,EAAAtE,GAAAsE,EAAApD,UAAAoD,EAAAvE,GAAA,KAAAR,EAAA,OAAoDG,YAAA,sBAAgCH,EAAA,QAAA+E,EAAAvE,GAAAuE,EAAAtE,GAAAsE,EAAAxE,QAAAwE,EAAAvE,GAAA,KAAAR,EAAA,QAAA+E,EAAAvE,GAAA,SAAAuE,EAAAvE,GAAA,KAAAR,EAAA,QAAAA,EAAA,QAAA+E,EAAAvE,GAAAuE,EAAAtE,GAAAsE,EAAAnD,QAAAmD,EAAAvE,GAAA,KAAAR,EAAA,QAAA+E,EAAAvE,GAAA,WAAAuE,EAAAvE,GAAA,KAAAR,EAAA,UAAA+E,EAAAvE,GAAA,KAAAR,EAAA,OAAkOG,YAAA,sBAAgC4E,EAAAvE,GAAAuE,EAAAtE,GAAAsE,EAAAlD,oBAAAkD,EAAAvE,GAAA,KAAAR,EAAA,WAAkEG,YAAA,sCAAgDH,EAAA,KAAUG,YAAA,gBAAA6E,IAAgCC,MAAAF,EAAAX,gBAA0BpE,EAAA,QAAA+E,EAAAvE,GAAA,YAAAuE,EAAAvE,GAAA,KAAAR,EAAA,OAAsDE,IAAA,QAAAC,YAAA,gBAAAG,OAA+C4E,cAAA,YAAwBlF,EAAA,OAAYE,IAAA,WAAAC,YAAA,0BAAmDH,EAAA,KAAUE,IAAA,YAAc6E,EAAAvE,GAAAuE,EAAAtE,GAAAsE,EAAAjD,UAAAiD,EAAAvE,GAAA,KAAAR,EAAA,OAAoDG,YAAA,yBAAmCH,EAAA,KAAUG,YAAA,yBAAA6E,IAAyCC,MAAAF,EAAAjB,4BAAgCiB,EAAAvE,GAAA,KAAAuE,EAAA,IAAA/E,EAAA,WAA4CG,YAAA,kCAA4CH,EAAA,MAAA+E,EAAAvE,GAAA,WAAAuE,EAAAvE,GAAA,KAAAuE,EAAAI,GAAA,KAAAJ,EAAAK,KAAAL,EAAAvE,GAAA,KAAAR,EAAA,WAAwFG,YAAA,+CAAyDH,EAAA,MAAWG,YAAA,qBAAgC4E,EAAA3E,GAAA2E,EAAA,eAAAM,GAAmC,OAAArF,EAAA,MAAgBsF,IAAAD,IAASrF,EAAA,KAAUG,YAAA,SAAmBH,EAAA,OAAYG,YAAA,kBAAAG,OAAqCiF,gBAAAF,EAAAG,SAA4BT,EAAAvE,GAAA,KAAAR,EAAA,QAAA+E,EAAAvE,GAAAuE,EAAAtE,GAAA4E,EAAA7G,SAAAuG,EAAAvE,GAAA,KAAAR,EAAA,QAA4EG,YAAA,4BAAsC4E,EAAAvE,GAAAuE,EAAAtE,GAAA4E,EAAAI,eAAkC,OAAAV,EAAAvE,GAAA,KAAAR,EAAA,cAAA+E,EAAAK,KAAAL,EAAAvE,GAAA,iBAAAuE,EAAA5D,WAAAnB,EAAA,WAAA+E,EAAAK,MAAA,IAEjqF1E,iBADb,WAAiB,IAAaZ,EAAbJ,KAAaK,eAA0BC,EAAvCN,KAAuCO,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBG,YAAA,QAAkBH,EAAA,OAAYM,OAAOC,IAAA,yEAArHb,KAAkMc,GAAA,KAAAR,EAAA,QAAlMN,KAAkMc,GAAA,wBCEtO,IAcIkF,EAdqB9E,EAAQ,OAcjB+E,CACd5E,EACA+D,GAT6B,EAV/B,SAAoBhE,GAClBF,EAAQ,SAaS,kBAEU,MAUdgF,EAAA,QAAAF,EAAiB","file":"static/js/5.af8750a8d6b6bd682140.js","sourcesContent":["<template>\n  <div>\n    <div ref=\"ratingBar\" class=\"rating\">\n      <img class=\"img noneBg\" v-for=\"start in starts\" :src=\"start\"/>\n      <span>{{score}}</span>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"rating-bar\",\n    props: {\n      score: {\n        typeL: Number,\n        required: true\n        // default: function () {\n        //   return 0;\n        // }\n      }\n    },\n    data: function () {\n      return {\n        full: 'http://ms0.meituan.net/canary/img/star-full-new.png',\n        half: 'http://ms0.meituan.net/canary/img/star-half-new.png',\n        empty: 'http://ms0.meituan.net/canary/img/star-empty-new.png',\n      }\n    },\n    methods: {\n\n      buildStarts: function (score) {\n        //debugger;\n        var starts = [];\n\n        // 整星个数\n        var fullCount = parseInt(score / 2);\n        // 半星个数\n        var halfCount = score % 2 === 0 ? 0 : 1;\n\n        for (var i = 0; i < 5; i++) {\n\n          if (i < fullCount) {\n            starts.push(this.full);\n          } else if (halfCount !== 0) {\n            halfCount = 0;\n            starts.push(this.half);\n          } else {\n            starts.push(this.empty);\n          }\n        }\n        return starts;\n      }\n    },\n    // watch: {\n    //   'score': function (newVal, oldVal) {\n    //     // this.score <=> newVal\n    //     if(this.score !== oldVal)\n    //       this.starts = this.buildStarts(this.score);\n    //   }\n    // },\n    computed: {\n      starts: function () {\n        return this.buildStarts(this.score);\n      }\n    },\n    // created() {\n    //   // console.log(this.score);\n    //   // this.starts = this.buildStarts(this.score);\n    // }\n  }\n</script>\n\n<style scoped>\n  @import \"../../assets/css/ratingBar.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/common/RatingBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"ratingBar\",staticClass:\"rating\"},[_vm._l((_vm.starts),function(start){return _c('img',{staticClass:\"img noneBg\",attrs:{\"src\":start}})}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.score))])],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dea0270\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/RatingBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dea0270\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RatingBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RatingBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RatingBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dea0270\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RatingBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5dea0270\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/RatingBar.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div v-if=\"pageStatus === 'completed'\">\n      <div class=\"movie-page\">\n        <!-- 头 -->\n        <section class=\"movie-header\">\n          <div class=\"movie\">\n            <div class=\"movie-background\"\n                 :style=\"'background-image:url(' + bgimg +')'\"></div>\n            <div class=\"movie-filter\"></div>\n            <div class=\"movie-container clearfix\">\n              <div class=\"movie-cover movie-with-video\">\n                <a class=\"link\">\n                  <img class=\"img noneBg\" :src=\"posterUrl\">\n                </a>\n              </div>\n              <div class=\"movie-content\">\n                <div class=\"movie-name text-ellipsis\">\n                  <span>{{movieName}}</span>\n                </div>\n                <div class=\"movie-ename text-ellipsis\">{{movieEnm}}</div>\n                <div class=\"movie-score\">\n                  <div class=\"released-score\">\n                    <RatingBar :score=\"score\"/>\n                    <div class=\"score-num\">\n                      <span>(</span>\n                      <span>{{snum}}</span>\n                      <span>人评分)</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"movie-category\">\n                  <span class=\"movie-cat\">{{cat}}</span>\n                </div>\n                <div class=\"movie-content-row\">\n                  <span>{{src}}</span>\n                  <span> / </span>\n                  <span>\n                    <span>{{dur}}</span>\n                    <span> 分钟</span>\n                  </span>\n                  <span></span>\n                </div>\n                <div class=\"movie-content-row\">{{pubDesc}}</div>\n              </div>\n            </div>\n          </div>\n        </section>\n        <!-- 简介 -->\n        <section class=\"section-seperate section-expander\">\n          <a class=\"btn btn-block\" @click=\"toCinemaPage\">\n            <span>立即购票</span>\n          </a>\n          <div ref=\"intro\" class=\"text-expander\" data-status=\"closed\">\n            <div ref=\"expander\" class=\"text-expander-content\">\n              <p ref=\"context\">{{dra}}</p>\n            </div>\n            <div class=\"text-expander-button\">\n              <i class=\"icon icon-chevron-down\" @click=\"expandCloseContent\"></i>\n            </div>\n          </div>\n        </section>\n        <!-- 观影小贴士 -->\n        <section class=\"section-seperate section-tips\" v-if=\"egg\">\n          <h3>观影小贴士</h3>\n          <div class=\"tip\">\n            <img src=\"http://p0.meituan.net/mmdb/8f52014d6b15bf93415d10cdcd16cbf52917.png\"/>\n            <span>有1个彩蛋，随片尾字幕出现</span>\n          </div>\n        </section>\n        <!-- 演职人员 -->\n        <section class=\"section-seperate section-movie-celebrities\">\n          <ul class=\"movie-celebrities\">\n            <li v-for=\"item in staff\" :key='item'>\n              <a class=\"link\">\n                <img class=\"img noneBg lazy\"\n                     :data-lazy-src=\"item.photo\">\n                <span>{{item.name}}</span>\n                <span class=\"movie-celebrities-roles\">{{item.role}}</span>\n              </a>\n            </li>\n          </ul>\n        </section>\n      </div>\n      <Footer/>\n    </div>\n    <Loading v-if=\"pageStatus === 'loading'\"/>\n  </div>\n</template>\n\n<script>\n\n  import {mapGetters, mapActions} from 'vuex'\n\n  import {TitleManage} from '../utils/Manage';\n  import LazyLoader from '../utils/LazyLoader';\n\n  import RatingBar from './common/RatingBar';\n  import Footer from './Footer';\n  import Loading from './common/Loading'\n\n  export default {\n    name: \"movie-page\",\n    //mixins: [mixin],\n    components: {\n      RatingBar,\n      Footer,\n      Loading\n    },\n    data() {\n      return {\n        pageStatus: 'loading',\n        LazyLoader: null,\n\n        // 影片id\n        movieId: '',\n        // 影片海报\n        bgimg: '',\n        posterUrl: '',\n        // 影片名称\n        movieName: '',\n        movieEnm: '',\n        // 评分\n        score: 0,\n        snum: 0,\n        // 类型\n        cat: '',\n        // 上映地区\n        src: '',\n        // 时长\n        dur: '',\n        pubDesc: '',\n        // 简介\n        dra: '',\n\n        egg: false,\n\n        // 演职人员\n        staff: []\n      }\n    },\n    computed: {\n      ...mapGetters([\n        'movieInfo'\n      ])\n    },\n    methods: {\n\n      ...mapActions({\n        getMovieInfo: 'GET_MOVIE_INFO'\n      }),\n\n      // 加载数据\n      fetchData: function (movieId) {\n\n        this.getMovieInfo({movieId})\n          .then(() => {\n            this.bgimg = this.movieInfo.bgimg;\n            this.posterUrl = this.movieInfo.posterUrl;\n            this.movieName = this.movieInfo.nm;\n            this.movieEnm = this.movieInfo.enm;\n            this.score = this.movieInfo.sc;\n            this.snum = this.movieInfo.snum;\n            this.cat = this.movieInfo.cat;\n            this.src = this.movieInfo.src;\n            this.dur = this.movieInfo.dur;\n            this.pubDesc = this.movieInfo.pubDesc;\n            this.dra = this.movieInfo.dra;\n            this.egg = this.movieInfo.egg;\n            this.staff = this.movieInfo.staff;\n            this.pageStatus = 'completed';\n\n            this.$nextTick(function () {\n              if (this.staff.length > 0 && !this.LazyLoader)\n                this.LazyLoader = new LazyLoader({\n                  el: '.movie-celebrities',\n                  orientation: 'horizontal'\n                });\n            });\n          })\n          .catch(e => console.log(e))\n      },\n      // 初始化\n      initLayout: function () {\n\n        var intro = this.$refs.intro;\n        var expander = this.$refs.expander;\n\n        intro.dataset.status = 'closed';\n        intro.classList.remove('text-expander-expand-true');\n        expander.style.maxHeight = '';\n      },\n\n      // 展开详细\n      expandCloseContent: function () {\n        var intro = this.$refs.intro;\n        var status = intro.dataset.status;\n        var expander = this.$refs.expander;\n\n        if (status === 'closed') {\n          intro.dataset.status = 'open';\n          intro.classList.add('text-expander-expand-true');\n          expander.style.maxHeight = this.$refs.context.clientHeight / window.devicePixelRatio + 'rem';\n        } else {\n          intro.dataset.status = 'closed';\n          intro.classList.remove('text-expander-expand-true');\n          expander.style.maxHeight = '';\n        }\n      },\n\n      // 到影院列表\n      toCinemaPage: function () {\n        // 设置标题\n        TitleManage.setTitleInfo('cinema', this.movieInfo.nm);\n        // 页面跳转\n        this.$router.push({name: 'cinema', params: {movieId: this.movieId}});\n      }\n    },\n    watch: {\n      '$route': function (newVal, oldVal) {\n\n        if (newVal.name !== 'movie') return;\n        var movieId = newVal.params.movieId;\n        if (movieId !== this.movieId) {\n          this.pageStatus = 'loading';\n          this.LazyLoader = null;\n          this.movieId = movieId;\n\n          this.initLayout();\n          this.fetchData(this.movieId);\n        }\n      }\n    },\n    created() {\n      this.movieId = this.$route.params.movieId;\n      this.fetchData(this.movieId)\n    }\n  }\n</script>\n\n<style scoped>\n  @import \"../assets/css/movie.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Movie.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.pageStatus === 'completed')?_c('div',[_c('div',{staticClass:\"movie-page\"},[_c('section',{staticClass:\"movie-header\"},[_c('div',{staticClass:\"movie\"},[_c('div',{staticClass:\"movie-background\",style:('background-image:url(' + _vm.bgimg +')')}),_vm._v(\" \"),_c('div',{staticClass:\"movie-filter\"}),_vm._v(\" \"),_c('div',{staticClass:\"movie-container clearfix\"},[_c('div',{staticClass:\"movie-cover movie-with-video\"},[_c('a',{staticClass:\"link\"},[_c('img',{staticClass:\"img noneBg\",attrs:{\"src\":_vm.posterUrl}})])]),_vm._v(\" \"),_c('div',{staticClass:\"movie-content\"},[_c('div',{staticClass:\"movie-name text-ellipsis\"},[_c('span',[_vm._v(_vm._s(_vm.movieName))])]),_vm._v(\" \"),_c('div',{staticClass:\"movie-ename text-ellipsis\"},[_vm._v(_vm._s(_vm.movieEnm))]),_vm._v(\" \"),_c('div',{staticClass:\"movie-score\"},[_c('div',{staticClass:\"released-score\"},[_c('RatingBar',{attrs:{\"score\":_vm.score}}),_vm._v(\" \"),_c('div',{staticClass:\"score-num\"},[_c('span',[_vm._v(\"(\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.snum))]),_vm._v(\" \"),_c('span',[_vm._v(\"人评分)\")])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"movie-category\"},[_c('span',{staticClass:\"movie-cat\"},[_vm._v(_vm._s(_vm.cat))])]),_vm._v(\" \"),_c('div',{staticClass:\"movie-content-row\"},[_c('span',[_vm._v(_vm._s(_vm.src))]),_vm._v(\" \"),_c('span',[_vm._v(\" / \")]),_vm._v(\" \"),_c('span',[_c('span',[_vm._v(_vm._s(_vm.dur))]),_vm._v(\" \"),_c('span',[_vm._v(\" 分钟\")])]),_vm._v(\" \"),_c('span')]),_vm._v(\" \"),_c('div',{staticClass:\"movie-content-row\"},[_vm._v(_vm._s(_vm.pubDesc))])])])])]),_vm._v(\" \"),_c('section',{staticClass:\"section-seperate section-expander\"},[_c('a',{staticClass:\"btn btn-block\",on:{\"click\":_vm.toCinemaPage}},[_c('span',[_vm._v(\"立即购票\")])]),_vm._v(\" \"),_c('div',{ref:\"intro\",staticClass:\"text-expander\",attrs:{\"data-status\":\"closed\"}},[_c('div',{ref:\"expander\",staticClass:\"text-expander-content\"},[_c('p',{ref:\"context\"},[_vm._v(_vm._s(_vm.dra))])]),_vm._v(\" \"),_c('div',{staticClass:\"text-expander-button\"},[_c('i',{staticClass:\"icon icon-chevron-down\",on:{\"click\":_vm.expandCloseContent}})])])]),_vm._v(\" \"),(_vm.egg)?_c('section',{staticClass:\"section-seperate section-tips\"},[_c('h3',[_vm._v(\"观影小贴士\")]),_vm._v(\" \"),_vm._m(0)]):_vm._e(),_vm._v(\" \"),_c('section',{staticClass:\"section-seperate section-movie-celebrities\"},[_c('ul',{staticClass:\"movie-celebrities\"},_vm._l((_vm.staff),function(item){return _c('li',{key:item},[_c('a',{staticClass:\"link\"},[_c('img',{staticClass:\"img noneBg lazy\",attrs:{\"data-lazy-src\":item.photo}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',{staticClass:\"movie-celebrities-roles\"},[_vm._v(_vm._s(item.role))])])])}),0)])]),_vm._v(\" \"),_c('Footer')],1):_vm._e(),_vm._v(\" \"),(_vm.pageStatus === 'loading')?_c('Loading'):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip\"},[_c('img',{attrs:{\"src\":\"http://p0.meituan.net/mmdb/8f52014d6b15bf93415d10cdcd16cbf52917.png\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"有1个彩蛋，随片尾字幕出现\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4079296f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Movie.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4079296f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Movie.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Movie.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Movie.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4079296f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Movie.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4079296f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Movie.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}