{"version":3,"sources":["webpack:///src/components/city/CityItem.vue","webpack:///./src/components/city/CityItem.vue?04d8","webpack:///./src/components/city/CityItem.vue","webpack:///src/components/city/City.vue","webpack:///./src/components/city/City.vue?2ac8","webpack:///./src/components/city/City.vue"],"names":["CityItem","name","props","index","type","Number","required","title","String","cities","ype","Array","data","isHide","this","methods","openOrCloseBarEvent","self","$refs","addEventListener","e","dataset","nextElementSibling","status","selectCityEvent","list","target","tagName","$emit","code","created","mounted","city_CityItem","render","_vm","_h","$createElement","_c","_self","staticClass","ref","_v","_s","class","hide","attrs","data-status","_l","city","i","key","data-name","data-code","staticRenderFns","City","components","__webpack_require__","normalizeComponent","ssrContext","Footer","computed","extends_default","Object","vuex_esm","citiesInfo","fetchCityInfo","$store","dispatch","receiveCityInfo","cityCode","cityName","$router","go","city_City","item","on","selectCity","City_Component","City_normalizeComponent","__webpack_exports__"],"mappings":"oLAcAA,GACAC,KAAA,YACAC,OACAC,OACAC,KAAAC,OACAC,UAAA,GAEAC,OACAH,KAAAI,OACAF,UAAA,GAEAG,QACAC,IAAAC,MACAL,UAAA,IAGAM,KAhBA,WAiBA,OACAC,OAAA,IAAAC,KAAAX,QAGAY,SAEAC,oBAAA,WAEA,IAAAC,EAAAH,KACAG,EAAAC,MAAAX,MAEAY,iBAAA,iBAAAC,GAGA,IACAC,EADAP,KAAAQ,mBACAD,QAEA,WAAAA,EAAAE,QACAF,EAAAE,OAAA,SACAN,EAAAJ,QAAA,IAGAQ,EAAAE,OAAA,SACAN,EAAAJ,QAAA,MAOAW,gBAAA,WAEA,IAAAP,EAAAH,KACAA,KAAAI,MAAAO,KAEAN,iBAAA,iBAAAC,GAEA,IAAAM,EAAAN,EAAAM,OACA,OAAAA,EAAAC,SAGAV,EAAAW,MAAA,aAAAF,EAAAL,QAAApB,KAAAyB,EAAAL,QAAAQ,UAKAC,QA/DA,aAkEAC,QAlEA,WAmEAjB,KAAAE,sBACAF,KAAAU,oBC/EeQ,GADEC,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,MAAWG,IAAA,UAAYN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAA3B,UAAA2B,EAAAO,GAAA,KAAAJ,EAAA,MAAmDG,IAAA,OAAAD,YAAA,YAAAI,OAA0CC,KAAAV,EAAArB,QAAqBgC,OAAQC,cAAAZ,EAAArB,OAAA,oBAAgDqB,EAAAa,GAAAb,EAAA,gBAAAc,EAAAC,GAAsC,OAAAZ,EAAA,MAAgBa,IAAAD,EAAAV,YAAA,iBAAAM,OAA0CM,YAAAH,EAAA/C,KAAAmD,YAAAJ,EAAAnB,QAA6CK,EAAAO,GAAA,WAAAP,EAAAQ,GAAAM,EAAA/C,MAAA,cAAkD,MAEhfoD,oBCCjB,ICmBAC,GACArD,KAAA,OACAW,KAFA,WAGA,UAEA2C,YACAvD,SDzByBwD,EAAQ,OAcjCC,CACEzD,EACAgC,GATF,EAVA,SAAA0B,GACEF,EAAQ,SAaV,kBAEA,MAUgC,QCGhCG,iBAAA,GAEAC,SAAAC,OACAC,OAAAC,EAAA,EAAAD,EACAE,WAAA,YAGAjD,SAGAkD,cAAA,WACAnD,KAAAoD,OAAAC,UACA/D,KAAA,gBAKAgE,gBAAA,SAAAnE,EAAA4B,GACAf,KAAAoD,OAAAC,UACA/D,KAAA,cACAiE,SAAAxC,EACAyC,SAAArE,IAGAa,KAAAyD,QAAAC,IAAA,KAGA1C,QAlCA,WAmCAhB,KAAAmD,kBCtDeQ,GADExC,OAFP,WAAgB,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,YAAuBL,EAAAa,GAAAb,EAAA,oBAAAwC,EAAAvE,GAA8C,OAAAkC,EAAA,YAAsBa,IAAA/C,EAAA,OAAA0C,OAA0BtC,MAAAmE,EAAAnE,MAAAE,OAAAiE,EAAAjE,OAAAN,SAAsDwE,IAAKC,WAAA1C,EAAAkC,qBAAoC,GAAAlC,EAAAO,GAAA,KAAAJ,EAAA,eAExSgB,oBCChC,IAcIwB,EAdqBrB,EAAQ,OAcjBsB,CACdxB,EACAmB,GAT6B,EAV/B,SAAoBf,GAClBF,EAAQ,SAaS,kBAEU,MAUduB,EAAA,QAAAF,EAAiB","file":"static/js/4.9b075bb839e7fe421503.js","sourcesContent":["<template>\n  <div class=\"collapse\">\n    <h3 ref=\"title\">{{title}}</h3>\n    <!--<div :class=\"{ 'hide': isHide }\" :data-status=\"isHide ? 'closed' : 'opened'\">-->\n    <ul ref=\"list\" class=\"list-view\" :class=\"{ 'hide': isHide }\" :data-status=\"isHide ? 'closed' : 'opened'\">\n      <li class=\"list-view-item\" v-for=\"(city, i) in cities\" :key=\"i\" :data-name=\"city.name\" :data-code=\"city.code\">\n        {{city.name}}\n      </li>\n    </ul>\n    <!--</div>-->\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'city-item',\n    props: {\n      index: {\n        type: Number,\n        required: true\n      },\n      title: {\n        type: String,\n        required: true\n      },\n      cities: {\n        ype: Array,\n        required: true\n      }\n    },\n    data() {\n      return {\n        isHide: this.index === 0 ? false : true\n      }\n    },\n    methods: {\n\n      openOrCloseBarEvent: function () {\n\n        var self = this;\n        var title = self.$refs.title; // 返回 所有h3\n\n        title.addEventListener('click', function (e) {\n\n          // 获取下一个相邻节点 (nextElementSibling的兼容性？)\n          var nextSibling = this.nextElementSibling;\n          var dataset = nextSibling.dataset;\n\n          if (dataset.status === 'opened') {\n            dataset.status = 'closed';\n            self.isHide = true;\n            //nextSibling.classList.add('hide');\n          } else {\n            dataset.status = 'opened';\n            self.isHide = false;\n            //nextSibling.classList.remove('hide');\n          }\n        })\n      },\n\n      // 选择城市（父子组件通信）\n      selectCityEvent: function () {\n\n        var self = this;\n        var list = this.$refs.list;\n\n        list.addEventListener('click', function (e) {\n\n          var target = e.target;\n          if (target.tagName === 'LI') {\n\n            // 向外传递事件\n            self.$emit('selectCity', target.dataset.name, target.dataset.code);\n          }\n        });\n      }\n    },\n    created() {\n\n    },\n    mounted() {\n      this.openOrCloseBarEvent();\n      this.selectCityEvent();\n    }\n  }\n</script>\n\n<style scoped>\n  @import \"../../assets/css/cityItem.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/city/CityItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"collapse\"},[_c('h3',{ref:\"title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('ul',{ref:\"list\",staticClass:\"list-view\",class:{ 'hide': _vm.isHide },attrs:{\"data-status\":_vm.isHide ? 'closed' : 'opened'}},_vm._l((_vm.cities),function(city,i){return _c('li',{key:i,staticClass:\"list-view-item\",attrs:{\"data-name\":city.name,\"data-code\":city.code}},[_vm._v(\"\\n      \"+_vm._s(city.name)+\"\\n    \")])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a1b041a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/city/CityItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a1b041a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CityItem.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CityItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CityItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a1b041a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CityItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a1b041a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/city/CityItem.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"cityInfo\">\n      <CityItem v-for=\"(item, index) in citiesInfo\"\n                :title=\"item.title\"\n                :cities=\"item.cities\"\n                :index=\"index\"\n                :key=\"index + 'city'\"\n                @selectCity=\"receiveCityInfo\"/>\n      <!-- @selectCity 接收子组件内部发出的事件 -->\n    </div>\n    <Footer/>\n  </div>\n</template>\n\n<script>\n\n  import {mapGetters} from 'vuex';\n\n  import CityItem from './CityItem';\n  import Footer from '../Footer'\n\n  export default {\n    name: 'city',\n    data() {\n      return {}\n    },\n    components: {\n      CityItem,\n      Footer\n    },\n    computed: {\n      ...mapGetters({\n        citiesInfo: 'cities'\n      })\n    },\n    methods: {\n\n      // 获取城市信息\n      fetchCityInfo: function () {\n        this.$store.dispatch({\n          type: 'GET_CITIES'\n        })\n      },\n\n      // 选择城市\n      receiveCityInfo: function (name, code) {\n        this.$store.dispatch({\n          type: 'CHOOSE_CITY',\n          cityCode: code,\n          cityName: name\n        });\n        // 后退\n        this.$router.go(-1);\n      }\n    },\n    created() {\n      this.fetchCityInfo();\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/city/City.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"cityInfo\"},_vm._l((_vm.citiesInfo),function(item,index){return _c('CityItem',{key:index + 'city',attrs:{\"title\":item.title,\"cities\":item.cities,\"index\":index},on:{\"selectCity\":_vm.receiveCityInfo}})}),1),_vm._v(\" \"),_c('Footer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a3788450\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/city/City.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a3788450\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./City.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./City.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./City.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a3788450\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./City.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a3788450\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/city/City.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}