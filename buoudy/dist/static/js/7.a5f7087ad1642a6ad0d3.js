webpackJsonp([7],{"14J7":function(t,e){},xJsL:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),o=a("NYxO"),r=a("Qts0"),l=a("TVmP"),c={name:"login",data:function(){return{normalLoginWay:!0,quickLoginWay:!1}},components:{SliderBar:r.a,Footer:l.a},methods:n()({},Object(o.b)({login:"LOGIN"}),{checkMobile:function(t){return/^[1][3,4,5,7,8][0-9]{9}$/.test(t)},initView:function(){var t=this.$refs.tip;t.style.left=(document.documentElement.clientWidth-t.clientWidth)/2+"px",t.style.display="none",t.style.visibility="visible"},showTip:function(t){var e=this.$refs.tip;e.style.top=t+"px",e.style.display="",setTimeout(function(){e.style.display="none"},1e3)},changeLoginWay:function(t){return"leftTab"===t.selectedTab?(this.normalLoginWay=!0,void(this.quickLoginWay=!1)):"rightTab"===t.selectedTab?(this.quickLoginWay=!0,void(this.normalLoginWay=!1)):void 0},onMobileInput:function(t){var e=t.target.value.trim();this.$refs.smsCode.disabled=!this.checkMobile(e)},getCaptacha:function(){var t=this.$refs.mobile.value.trim();if(this.checkMobile(t)){var i=e.target,a=60;this.$refs.captacha.disabled=!1,i.disabled=!0,i.innerHTML=a+"秒";var s=setInterval(function(){i.innerHTML=--a+"秒",0===a&&(clearInterval(s),i.disabled=!1,i.innerHTML="再次发送验证码")},1e3)}else this.$store.dispatch({type:"OPEN_TIP",message:"请输入正确的11位手机号码"})},doLogin:function(){var t=this,e="",i="",a="";if(this.normalLoginWay){var s=this.$refs.username,n=this.$refs.password;if(!s.value.trim())return s.focus(),void this.showTip(s.offsetTop+s.offsetHeight);if(!n.value.trim())return n.focus(),void this.showTip(n.offsetTop+n.offsetHeight);e=s.value.trim(),i=n.value.trim(),a="normalLoginWay"}else{var o=this.$refs.topTip,r=this.$refs.mobile.value.trim(),l=this.$refs.captacha.value.trim();if(!this.checkMobile(r))return o.innerHTML="请输入正确的手机号",void(o.style.display="block");if(!l)return o.innerHTML="请输入验证码",void(o.style.display="block");e=r,i=l,a="quickLoginWay"}this.login({account:e,ticket:i,type:a}).then(function(){var e=t.$route.query.redirect;e?t.$router.replace(e):t.$router.go(-1)}).catch(function(t){return console.log(t)})}}),mounted:function(){this.initView()}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"topTip",attrs:{id:"topTip"}}),t._v(" "),i("div",[i("SliderBar",{attrs:{tabNameL:"美团账号登陆",tabNameR:"手机账号登陆"},on:{switchTab:t.changeLoginWay}})],1),t._v(" "),i("div",{staticClass:"login-way"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.normalLoginWay,expression:"normalLoginWay"}],staticClass:"normal-login-way"},[i("div",[i("div",{staticClass:"account"},[i("input",{ref:"username",staticClass:"input-weak",attrs:{id:"username",type:"text",placeholder:"账户名/手机号/Email",name:"email",value:"",required:""}})])]),t._v(" "),i("div",[i("div",{staticClass:"password"},[i("input",{ref:"password",staticClass:"input-weak",attrs:{id:"password",type:"password",placeholder:"请输入您的密码",name:"password",required:""}})])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.quickLoginWay,expression:"quickLoginWay"}],staticClass:"quick-login-way"},[i("div",[i("div",{staticClass:"captacha"},[i("input",{ref:"mobile",staticClass:"input-captacha",attrs:{type:"tel",name:"mobile",placeholder:"请输入手机号"},on:{input:t.onMobileInput}}),t._v(" "),i("button",{ref:"smsCode",staticClass:"btn btn-captacha",attrs:{type:"button",disabled:""},on:{click:t.getCaptacha}},[t._v("发送验证码")])])]),t._v(" "),i("div",[i("div",{staticClass:"tel"},[i("input",{ref:"captacha",staticClass:"input-weak",attrs:{name:"code",type:"tel",pattern:"[0-9]+",placeholder:"请输入短信验证码",disabled:"disabled"}})])])]),t._v(" "),i("div",{ref:"tip",staticClass:"tip",attrs:{id:"tip"}},[t._v("请填写该字段")])]),t._v(" "),i("div",{staticClass:"btn-wrapper"},[i("button",{ref:"login",staticClass:"btn btn-larger btn-block disabled login-btn",attrs:{type:"submit"},on:{click:t.doLogin}},[t._v("登录")])]),t._v(" "),i("Footer",{attrs:{type:"simple"}})],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("14J7")},"data-v-27e71d56",null);i.default=u.exports}});
//# sourceMappingURL=7.a5f7087ad1642a6ad0d3.js.map